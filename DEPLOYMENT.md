# üöÄ Deployment Guide - Render

## Prerequisites
- GitHub account
- Render account (free tier available at https://render.com)
- MongoDB Atlas account (already configured)

## Step-by-Step Deployment

### 1. Prepare Your Repository

First, commit and push all changes to GitHub:

```bash
git add .
git commit -m "Prepare for Render deployment"
git push origin main
```

### 2. Sign Up/Login to Render

1. Go to https://render.com
2. Sign up with your GitHub account
3. Authorize Render to access your GitHub repositories

### 3. Create New Web Service

1. Click **"New +"** button in Render dashboard
2. Select **"Web Service"**
3. Connect your GitHub repository: `Store-Management-System`
4. Configure the service:

   **Basic Settings:**
   - **Name**: `store-management-system` (or any name you prefer)
   - **Region**: Choose closest to your location
   - **Branch**: `main`
   - **Root Directory**: Leave empty
   - **Runtime**: `Python 3`

   **Build & Deploy:**
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `python shop_api_mongodb.py`

### 4. Set Environment Variables

In the Render dashboard, add these environment variables:

1. **MONGODB_URI**
   - Value: `mongodb+srv://saurabhdoiphode1711_db_user:Qgm1NZauZjINSMiE@cluster0.mongodb.net/store_db?retryWrites=true&w=majority`
   - ‚ö†Ô∏è Keep this secret!

2. **JWT_SECRET** (will be auto-generated by Render)
   - Or set your own: `your-super-secret-jwt-key-change-in-production-123456`

3. **PORT** (automatically set by Render, no need to add)

### 5. Deploy

1. Click **"Create Web Service"**
2. Render will automatically:
   - Clone your repository
   - Install dependencies
   - Start your application

3. Wait for deployment (usually 2-3 minutes)

### 6. Access Your Deployed Application

Once deployed, you'll get a URL like:
```
https://store-management-system-xxxx.onrender.com
```

**Update Your Frontend URLs:**

You need to update the API_BASE in your HTML files to use the Render URL instead of localhost.

**Option 1: Update manually in each file**
- Open `login.html`, `shopkeeper_dashboard.html`, `customer_dashboard.html`
- Find: `const API_BASE = 'http://localhost:8000';`
- Replace with: `const API_BASE = 'https://your-render-url.onrender.com';`

**Option 2: Use environment detection (recommended)**
```javascript
const API_BASE = window.location.hostname === 'localhost' 
    ? 'http://localhost:8000' 
    : 'https://your-render-url.onrender.com';
```

### 7. Test Your Deployment

1. Open your Render URL in browser
2. You should see the login page
3. Test login, registration, and dashboard features
4. Check Render logs for any errors

## üìä Monitor Your Application

### View Logs
1. Go to your service in Render dashboard
2. Click **"Logs"** tab
3. Monitor real-time logs

### View Metrics
- CPU usage
- Memory usage
- Request count
- Response times

## üîÑ Auto-Deploy on Git Push

Render automatically deploys when you push to `main` branch:

```bash
git add .
git commit -m "Update features"
git push origin main
```

Render will automatically rebuild and redeploy!

## ‚ö° Free Tier Limitations

- Apps spin down after 15 minutes of inactivity
- First request after spin down takes ~30 seconds (cold start)
- 750 hours/month free
- Shared CPU/memory

**To upgrade:** Go to Settings ‚Üí Change to Paid plan ($7/month for always-on)

## üêõ Troubleshooting

### Deployment Failed
1. Check Render build logs
2. Verify all dependencies in `requirements.txt`
3. Check Python version compatibility

### Application Errors
1. Check Render runtime logs
2. Verify MongoDB connection string
3. Check environment variables

### CORS Issues
- Already handled in the code with CORS headers
- If issues persist, check browser console

### Database Connection Failed
1. Verify MongoDB URI in environment variables
2. Check MongoDB Atlas whitelist (should allow all IPs: `0.0.0.0/0`)
3. Verify database user credentials

## üìù Post-Deployment Checklist

- ‚úÖ Application is accessible via Render URL
- ‚úÖ Login/Registration working
- ‚úÖ Dashboard loading correctly
- ‚úÖ Products CRUD operations working
- ‚úÖ Orders placement working
- ‚úÖ Authentication working
- ‚úÖ MongoDB data persisting

## üîê Security Notes

1. **Never commit sensitive data** to Git:
   - MongoDB passwords
   - JWT secrets
   - API keys

2. **Use environment variables** for:
   - Database credentials
   - Secret keys
   - Third-party API keys

3. **MongoDB Security:**
   - Enable IP whitelist in production
   - Use strong passwords
   - Regular backups

## üÜò Need Help?

- Render Documentation: https://render.com/docs
- Render Community: https://community.render.com
- GitHub Issues: https://github.com/Saurabhdoiphode/Store-Management-System/issues

## üéâ You're Live!

Your Store Management System is now deployed and accessible worldwide!

Share your URL: `https://your-app.onrender.com`
